<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Connect Wallet - IndiCoin</title>
        <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />

        <!-- Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
            rel="stylesheet"
        />

        <!-- Bootstrap -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
            crossorigin="anonymous"
        />

        <!-- Custom CSS -->
        <link rel="stylesheet" href="css/styles.css" />

        <!-- Icons -->
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css"
        />

        <!-- Ethers.js -->
        <script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js"></script>
    </head>
    <body>
        <!-- Navigation -->
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
                <a
                    class="navbar-brand d-flex align-items-center"
                    href="homepage.html"
                >
                    <div class="me-2">
                        <svg
                            width="32"
                            height="32"
                            viewBox="0 0 48 48"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <g clip-path="url(#clip0_6_535)">
                                <path
                                    fill-rule="evenodd"
                                    clip-rule="evenodd"
                                    d="M47.2426 24L24 47.2426L0.757355 24L24 0.757355L47.2426 24ZM12.2426 21H35.7574L24 9.24264L12.2426 21Z"
                                    fill="currentColor"
                                ></path>
                            </g>
                            <defs>
                                <clipPath id="clip0_6_535">
                                    <rect
                                        width="48"
                                        height="48"
                                        fill="white"
                                    ></rect>
                                </clipPath>
                            </defs>
                        </svg>
                    </div>
                    <span class="fw-bold fs-4 text-gradient">IndiCoin</span>
                </a>

                <button
                    class="navbar-toggler"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#navbarNav"
                    aria-controls="navbarNav"
                    aria-expanded="false"
                    aria-label="Toggle navigation"
                >
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto align-items-center">
                        <li class="nav-item">
                            <a class="nav-link" href="homepage.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="homepage.html#about"
                                >About</a
                            >
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="homepage.html#features"
                                >Features</a
                            >
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="homepage.html#team"
                                >Team</a
                            >
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="homepage.html#contact"
                                >Contact</a
                            >
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="min-vh-100 d-flex align-items-center py-5">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-lg-5 col-md-7">
                        <div class="card glass-effect border-0 shadow-lg">
                            <div class="card-body p-5">
                                <!-- Header -->
                                <div class="text-center mb-4">
                                    <div class="mb-3">
                                        <div
                                            class="bg-primary bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center"
                                            style="width: 80px; height: 80px"
                                        >
                                            <i
                                                class="bi bi-wallet2 text-primary fs-1"
                                            ></i>
                                        </div>
                                    </div>
                                    <h1 class="fw-bold mb-2">
                                        Welcome to IndiCoin
                                    </h1>
                                    <p class="text-secondary">
                                        Connect your wallet or create an account
                                        to get started
                                    </p>
                                </div>

                                <!-- Wallet Connection Options -->
                                <div class="mb-4">
                                    <button
                                        class="btn btn-primary w-100 mb-3 py-3"
                                        id="connectMetaMaskButton"
                                    >
                                        <i class="bi bi-wallet me-2"></i>
                                        Connect with MetaMask
                                    </button>
                                    <button
                                        class="btn btn-outline-secondary w-100 mb-3 py-3"
                                        id="connectWalletConnectButton"
                                    >
                                        <i class="bi bi-link-45deg me-2"></i>
                                        Connect with WalletConnect
                                    </button>
                                </div>

                                <div class="text-center mb-4">
                                    <span class="text-secondary">
                                        <small>or</small>
                                    </span>
                                </div>

                                <!-- Tabs -->
                                <ul
                                    class="nav nav-tabs mb-4"
                                    id="authTabs"
                                    role="tablist"
                                >
                                    <li
                                        class="nav-item flex-fill"
                                        role="presentation"
                                    >
                                        <button
                                            class="nav-link active w-100"
                                            id="login-tab"
                                            data-bs-toggle="tab"
                                            data-bs-target="#login"
                                            type="button"
                                            role="tab"
                                            aria-controls="login"
                                            aria-selected="true"
                                        >
                                            <i
                                                class="bi bi-box-arrow-in-right me-2"
                                            ></i
                                            >Login
                                        </button>
                                    </li>
                                    <li
                                        class="nav-item flex-fill"
                                        role="presentation"
                                    >
                                        <button
                                            class="nav-link w-100"
                                            id="register-tab"
                                            data-bs-toggle="tab"
                                            data-bs-target="#register"
                                            type="button"
                                            role="tab"
                                            aria-controls="register"
                                            aria-selected="false"
                                        >
                                            <i
                                                class="bi bi-person-plus me-2"
                                            ></i
                                            >Register
                                        </button>
                                    </li>
                                </ul>

                                <!-- Tab Content -->
                                <div class="tab-content" id="authTabContent">
                                    <!-- Login Tab -->
                                    <div
                                        class="tab-pane fade show active"
                                        id="login"
                                        role="tabpanel"
                                        aria-labelledby="login-tab"
                                    >
                                        <form id="loginForm" novalidate>
                                            <div class="mb-3">
                                                <label
                                                    for="loginUsername"
                                                    class="form-label"
                                                >
                                                    <i
                                                        class="bi bi-person me-2"
                                                    ></i
                                                    >Username
                                                </label>
                                                <input
                                                    type="text"
                                                    class="form-control py-3"
                                                    id="loginUsername"
                                                    placeholder="Enter your username"
                                                    required
                                                />
                                            </div>

                                            <div class="mb-4">
                                                <label
                                                    for="loginPassword"
                                                    class="form-label"
                                                >
                                                    <i
                                                        class="bi bi-lock me-2"
                                                    ></i
                                                    >Password
                                                </label>
                                                <div class="position-relative">
                                                    <input
                                                        type="password"
                                                        class="form-control py-3"
                                                        id="loginPassword"
                                                        placeholder="Enter your password"
                                                        required
                                                    />
                                                    <button
                                                        type="button"
                                                        class="btn btn-link position-absolute end-0 top-50 translate-middle-y me-2"
                                                        onclick="togglePasswordVisibility('loginPassword')"
                                                    >
                                                        <i
                                                            class="bi bi-eye"
                                                            id="loginPasswordToggle"
                                                        ></i>
                                                    </button>
                                                </div>
                                            </div>

                                            <div
                                                class="d-flex justify-content-between align-items-center mb-4"
                                            >
                                                <div class="form-check">
                                                    <input
                                                        class="form-check-input"
                                                        type="checkbox"
                                                        id="rememberMe"
                                                    />
                                                    <label
                                                        class="form-check-label text-secondary"
                                                        for="rememberMe"
                                                    >
                                                        Remember me
                                                    </label>
                                                </div>
                                                <a
                                                    href="#"
                                                    class="text-primary text-decoration-none"
                                                >
                                                    Forgot password?
                                                </a>
                                            </div>

                                            <button
                                                type="submit"
                                                class="btn btn-primary w-100 py-3 fw-bold"
                                                id="loginButton"
                                            >
                                                <i
                                                    class="bi bi-box-arrow-in-right me-2"
                                                ></i>
                                                Sign In
                                            </button>
                                        </form>
                                    </div>

                                    <!-- Register Tab -->
                                    <div
                                        class="tab-pane fade"
                                        id="register"
                                        role="tabpanel"
                                        aria-labelledby="register-tab"
                                    >
                                        <form id="registerForm" novalidate>
                                            <div class="mb-3">
                                                <label
                                                    for="registerUsername"
                                                    class="form-label"
                                                >
                                                    <i
                                                        class="bi bi-person me-2"
                                                    ></i
                                                    >Username
                                                </label>
                                                <input
                                                    type="text"
                                                    class="form-control py-3"
                                                    id="registerUsername"
                                                    placeholder="Choose a username"
                                                    required
                                                />
                                            </div>

                                            <div class="mb-3">
                                                <label
                                                    for="registerEmail"
                                                    class="form-label"
                                                >
                                                    <i
                                                        class="bi bi-envelope me-2"
                                                    ></i
                                                    >Email Address
                                                </label>
                                                <input
                                                    type="email"
                                                    class="form-control py-3"
                                                    id="registerEmail"
                                                    placeholder="Enter your email"
                                                    required
                                                />
                                            </div>

                                            <div class="mb-3">
                                                <label
                                                    for="registerPassword"
                                                    class="form-label"
                                                >
                                                    <i
                                                        class="bi bi-lock me-2"
                                                    ></i
                                                    >Password
                                                </label>
                                                <div class="position-relative">
                                                    <input
                                                        type="password"
                                                        class="form-control py-3"
                                                        id="registerPassword"
                                                        placeholder="Create a strong password"
                                                        required
                                                    />
                                                    <button
                                                        type="button"
                                                        class="btn btn-link position-absolute end-0 top-50 translate-middle-y me-2"
                                                        onclick="togglePasswordVisibility('registerPassword')"
                                                    >
                                                        <i
                                                            class="bi bi-eye"
                                                            id="registerPasswordToggle"
                                                        ></i>
                                                    </button>
                                                </div>
                                                <div class="form-text">
                                                    Password must be at least 8
                                                    characters long
                                                </div>
                                            </div>

                                            <div class="mb-4">
                                                <label
                                                    for="registerWalletAddress"
                                                    class="form-label"
                                                >
                                                    <i
                                                        class="bi bi-wallet2 me-2"
                                                    ></i
                                                    >Wallet Address
                                                </label>
                                                <div class="input-group">
                                                    <input
                                                        type="text"
                                                        class="form-control py-3"
                                                        id="registerWalletAddress"
                                                        placeholder="0x... or connect wallet"
                                                        required
                                                    />
                                                    <button
                                                        class="btn btn-outline-secondary"
                                                        type="button"
                                                        id="autoFillWalletButton"
                                                    >
                                                        <i
                                                            class="bi bi-wallet2"
                                                        ></i>
                                                    </button>
                                                </div>
                                                <div class="form-text">
                                                    Enter your Ethereum wallet
                                                    address or connect your
                                                    wallet
                                                </div>
                                            </div>

                                            <div class="mb-4">
                                                <div class="form-check">
                                                    <input
                                                        class="form-check-input"
                                                        type="checkbox"
                                                        id="agreeTerms"
                                                        required
                                                    />
                                                    <label
                                                        class="form-check-label text-secondary"
                                                        for="agreeTerms"
                                                    >
                                                        I agree to the
                                                        <a
                                                            href="#"
                                                            class="text-primary"
                                                            >Terms of Service</a
                                                        >
                                                        and
                                                        <a
                                                            href="#"
                                                            class="text-primary"
                                                            >Privacy Policy</a
                                                        >
                                                    </label>
                                                </div>
                                            </div>

                                            <button
                                                type="submit"
                                                class="btn btn-primary w-100 py-3 fw-bold"
                                                id="registerButton"
                                            >
                                                <i
                                                    class="bi bi-person-plus me-2"
                                                ></i>
                                                Create Account
                                            </button>
                                        </form>
                                    </div>
                                </div>

                                <!-- Footer -->
                                <div class="text-center mt-4">
                                    <p class="text-secondary small mb-0">
                                        By continuing, you agree to our terms
                                        and privacy policy
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- Security Notice -->
                        <div
                            class="alert alert-info mt-4 glass-effect border-0"
                        >
                            <div class="d-flex align-items-center">
                                <i
                                    class="bi bi-shield-check text-info me-3 fs-4"
                                ></i>
                                <div>
                                    <h6 class="fw-bold mb-1">
                                        Secure & Trusted
                                    </h6>
                                    <small>
                                        Your data is encrypted and secure. We
                                        never store your private keys.
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Scripts -->
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"
        ></script>
        <script src="js/app.js"></script>

        <script>
            // Toggle password visibility
            function togglePasswordVisibility(inputId) {
                const input = document.getElementById(inputId);
                const toggle = document.getElementById(inputId + "Toggle");

                if (input.type === "password") {
                    input.type = "text";
                    toggle.className = "bi bi-eye-slash";
                } else {
                    input.type = "password";
                    toggle.className = "bi bi-eye";
                }
            }

            // MetaMask connection
            document
                .getElementById("connectMetaMaskButton")
                .addEventListener("click", async () => {
                    if (typeof window.ethereum !== "undefined") {
                        try {
                            const accounts = await window.ethereum.request({
                                method: "eth_requestAccounts",
                            });
                            if (accounts.length > 0) {
                                const walletAddress = accounts[0];
                                document.getElementById(
                                    "registerWalletAddress",
                                ).value = walletAddress;

                                // Switch to register tab if not already there
                                const registerTab = new bootstrap.Tab(
                                    document.getElementById("register-tab"),
                                );
                                registerTab.show();

                                IndicoinApp.utils.showNotification(
                                    "Wallet connected successfully!",
                                    "success",
                                );
                            }
                        } catch (error) {
                            console.error(
                                "Error connecting to MetaMask:",
                                error,
                            );
                            IndicoinApp.utils.showNotification(
                                "Failed to connect wallet",
                                "danger",
                            );
                        }
                    } else {
                        IndicoinApp.utils.showNotification(
                            "Please install MetaMask to connect your wallet",
                            "warning",
                        );
                        window.open("https://metamask.io/download/", "_blank");
                    }
                });

            // Auto-fill wallet address button
            document
                .getElementById("autoFillWalletButton")
                .addEventListener("click", async () => {
                    document.getElementById("connectMetaMaskButton").click();
                });

            // WalletConnect (placeholder)
            document
                .getElementById("connectWalletConnectButton")
                .addEventListener("click", () => {
                    IndicoinApp.utils.showNotification(
                        "WalletConnect integration coming soon!",
                        "info",
                    );
                });

            // Form validation on tab switch
            document
                .querySelectorAll('[data-bs-toggle="tab"]')
                .forEach((tab) => {
                    tab.addEventListener("shown.bs.tab", function (e) {
                        // Clear any validation states when switching tabs
                        document
                            .querySelectorAll(".is-invalid, .is-valid")
                            .forEach((input) => {
                                input.classList.remove(
                                    "is-invalid",
                                    "is-valid",
                                );
                            });
                        document
                            .querySelectorAll(".invalid-feedback")
                            .forEach((feedback) => {
                                feedback.style.display = "none";
                            });
                    });
                });
        </script>
    </body>
</html>
